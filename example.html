
<script type="text/javascript" src="raphael-min.js"></script>
<script type="text/javascript" src="ftree.js"></script>

<script type="text/javascript">

    window.onload = function () {

          // set person objects for the family tree
       
        var john = {
            'first_name': 'John', 
            'last_name': 'Gordon', 
            'gender': 'male',
        };
        
        var fred = {
            'first_name': 'Fred', 
            'last_name': 'Nightingale',
            'gender': 'male'
        };
        
        var mary = {
            'first_name': 'Mary', 
            'last_name': 'Cromwell', 
            'gender': 'female',
            'partners': [{'person': john}, {'person': fred}]
        };
        
        
        var alice = {
            'first_name': 'Alice', 
            'last_name': 'Horan',
            'gender': 'female',
            'partners': [{'person': john}]
        };
        
        
        var bill = {
            'first_name': 'Bill', 
            'last_name': 'Gordon', 
            'gender': 'male',
            'father': john,
            'mother': mary
        };        
        
        var ann = {
            'first_name': 'Ann', 
            'last_name': 'Gordon', 
            'gender': 'female',
            'father': john,
            'mother': mary
        };
        
        
        var susan = {
            'first_name': 'Susan', 
            'last_name': 'Aprile', 
            'gender': 'female',
            'partners': [{'person': bill}]
        };
        
        var laura = {
            'first_name': 'Laura', 
            'last_name': 'Gordon', 
            'gender': 'female',
            'deceased': 'N',
            'father': john,
            'mother': alice
        };
        
       
        var carl = {
            'first_name': 'Carl', 
            'last_name': 'Nightingale',
            'gender': 'male'
        };
        
        var kate = {
            'first_name': 'Kate', 
            'last_name': 'Gordon', 
            'gender': 'female',
            'father': bill,
            'mother': susan
        };
        
        var steve = {
            'first_name': 'Steve', 
            'last_name': 'Gordon', 
            'gender': 'male',
            'father': bill,
            'mother': susan
        };            
  
        // prepare settings for the second tree
        var settings = {
            color: '#009',
            fillColor: '#0d0',
            maleFillColor: '#55e',
            femaleFillColor: '#ee5',
            strokeColor: '#0f0',
            mouseoverColor: '#DDD',
            startX: 600,
            startY: 150,
            width: 100,
            height: 100,
            vDistance: 70,
            hDistance: 70,
            fontSize: '12',
            active_person: john,
            active_partner: mary,
            onClick: function (person) { alert(person.first_name + ' ' + person.last_name); },
            getText: function (person) {  return getFullName(person) } 
        };        
        
        // create the tree
        var ft = new familyTree([john, kate, mary, bill, susan, alice, steve, ann, carl, fred, laura], settings); 
        ft.show(); 
}

    // get full name (first name + middle name + last name) for a person
    function getFullName(person) {

        var fullName = '';

        if (person.first_name) {
            fullName = fullName + person.first_name + '\n';
        }
        else {
            fullName = fullName + 'Unknown\n';
        }

        if (person.middle_name) {
            fullName = fullName + person.middle_name + '\n';
        }

        if (person.last_name) {
            fullName = fullName + person.last_name;
        }

        return fullName;
    }

</script>

